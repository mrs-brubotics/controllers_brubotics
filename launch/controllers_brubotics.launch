<launch>
  <!-- Arg definition -->
  <arg name="RUN_TYPE" default="$(env RUN_TYPE)" />
  <arg name="UAV_TYPE" default="$(env UAV_TYPE)" />
  <arg name="custom_config_so3_controller_brubotics" default="" />
  <arg name="PROFILER" default="$(optenv PROFILER false)" />

  <!-- Parameter loading -->
  <rosparam ns="$(env UAV_NAME)/control_manager/se3_controller_brubotics" file="$(find controllers_brubotics)/config/default/se3_brubotics.yaml" />
  <rosparam ns="$(env UAV_NAME)/control_manager/se3_controller_brubotics" file="$(find controllers_brubotics)/config/$(arg RUN_TYPE)/$(arg UAV_TYPE)/se3_brubotics.yaml" />
  <rosparam if="$(eval not arg('custom_config_se3_controller_brubotics') == '')" ns="$(env UAV_NAME)/control_manager/se3_controller_brubotics" file="$(arg custom_config_se3_controller_brubotics)" />
  <param name="$(env UAV_NAME)/control_manager/se3_controller_brubotics/enable_profiler" type="bool" value="$(arg PROFILER)" />
  <remap from="~$(env UAV_NAME)/control_manager/se3_controller_brubotics/profiler" to="profiler" />

  <!-- Address loading -->
  <rosparam ns="$(env UAV_NAME)/control_manager" file="$(find controllers_brubotics)/config/address.yaml" />

</launch>
